# Demo App Makefile
# Standard commands that work across all modules

.PHONY: help build test run clean package install dev logs

# Default target
help:
	@echo "ðŸŽ¯ Demo App Commands:"
	@echo "  build     - Build the module"
	@echo "  test      - Run tests"
	@echo "  run       - Start module locally"
	@echo "  dev       - Start in development mode"
	@echo "  package   - Create deployable artifact"
	@echo "  install   - Install dependencies"
	@echo "  clean     - Clean build artifacts"
	@echo "  logs      - View module logs"

# Build the module
build:
	@echo "ðŸ”¨ Building Demo App..."
	pnpm build

# Run tests
test:
	@echo "ðŸ§ª Running Demo App tests..."
	pnpm test

# Start module locally (production build)
run:
	@echo "ðŸš€ Starting Demo App (production)..."
	pnpm preview

# Development mode with hot reload
dev:
	@echo "ðŸ”¥ Starting Demo App in development mode..."
	pnpm dev

# Create deployable artifact (same as build for frontend)
package:
	@echo "ðŸ“¦ Packaging Demo App..."
	pnpm build

# Install dependencies
install:
	@echo "ðŸ“¥ Installing Demo App dependencies..."
	pnpm install

# Clean build artifacts
clean:
	@echo "ðŸ§¹ Cleaning Demo App..."
	rm -rf dist node_modules/.vite

# View module logs
logs:
	@echo "ðŸ“‹ Demo App logs..."
	@docker logs frontend-dev --tail=50 -f 2>/dev/null || echo "Service not running in Docker"
